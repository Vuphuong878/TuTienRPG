
import type { ChangelogEntry } from '../types.ts';

export const CHANGELOG_DATA: ChangelogEntry[] = [
  {
    version: '1.0.0',
    date: '2025-08-16',
    changes: [
      { type: 'improvement', text: 'Bổ sung hệ thống nội tâm ẩn (5 lăng kính) cho NPC khi cập nhật tình cảm, đảm bảo NPC phản ứng logic, không máy móc.' },
      { type: 'improvement', text: 'Triển khai cơ chế NPC chủ động với hai giai đoạn hành động: phản ứng kết quả và hành động chủ động của NPC/thế giới.' },
      { type: 'improvement', text: 'Bổ sung quy tắc quản lý trạng thái, nhiệm vụ, ký ức, thực thể, vật phẩm, đồng hành, và các thẻ lệnh liên quan vào system instruction.' },
      { type: 'improvement', text: 'Thêm quy tắc cuối cùng: khối lựa chọn luôn là nội dung cuối cùng trong phản hồi, không có thẻ lệnh hay văn bản sau.' },
      { type: 'technical', text: 'Kiểm tra và đồng bộ toàn bộ từ khóa, thẻ lệnh, logic với codespace hiện tại, tránh trùng lặp và xung đột.' }
    ]
  },
  {
    version: '1.41.0',
    date: '2025-08-11',
    changes: [
      { type: 'feature', text: 'Triển khai Unified Edit System hoàn chỉnh cho tất cả Entity types - Người chơi giờ có thể chỉnh sửa trực tiếp thông tin của Skills, NPCs, PCs, và Locations thông qua các edit modals chuyên dụng với giao diện thân thiện và validation system.' },
      { type: 'feature', text: 'EditSkillModal với mastery dropdown system - Hỗ trợ chỉnh sửa tất cả thuộc tính skill bao gồm name, description, realm, element, skillType với mastery levels (Mới học, Bậc nhập môn, Thành thạo, Tinh thông, Đại thành, Viên mãn, Cực đại). Loại bỏ location và owner fields theo feedback.' },
      { type: 'feature', text: 'EditNPCModal với comprehensive character editing - Chỉnh sửa đầy đủ thông tin NPC bao gồm basic info (name, gender, age, appearance, location), character attributes (realm, fame, personality, motivation, MBTI), relationship dropdown với predefined options, và skills management với cursor position preservation.' },
      { type: 'feature', text: 'EditPCModal với MBTI personality integration - Chỉnh sửa Player Character với tất cả PC-specific fields bao gồm learned skills, MBTI personality dropdown, experience points, realm progression, và character development attributes với yellow color theme.' },
      { type: 'feature', text: 'EditLocationModal với safety status management - Chỉnh sửa địa điểm với fields: name, parent location, safety status dropdown (tự động update description), climate/environment, notable features, resources/economy, và inhabitants information với green color theme.' },
      { type: 'feature', text: 'Manual Status Deletion System - Thêm X buttons cho mỗi status trong PC và NPC EntityInfoModal. Players có thể manually delete bugged statuses với confirmation dialog, red X buttons xuất hiện on hover, và success notifications. Hỗ trợ cho PC, NPC, và Companion entities.' },
      { type: 'improvement', text: 'Advanced cursor position preservation trong text inputs - Khắc phục cursor jumping issue trong NPC skills field bằng cách implement temporary string fields (skillsText) chỉ convert thành array khi save, maintain cursor position during editing.' },
      { type: 'improvement', text: 'Unified modal state management system - Tích hợp hoàn chỉnh tất cả edit modals vào useModalState hook với proper state cleanup, modal close handlers, và React state management. Enhanced GameScreen integration với save handlers và success notifications.' },
      { type: 'improvement', text: 'Smart edit modal UI/UX design - Mỗi modal có color scheme riêng biệt (amber-skills, blue-NPCs, yellow-PC, green-locations), glass-morphism styling, proper form validation, responsive design, và consistent user experience across all entity types.' },
      { type: 'improvement', text: 'Enhanced EntityInfoModal với edit icons - Thêm pencil edit icons (✏️) trong header của tất cả entity info modals, proper permission checks, color-coded theo entity type, và seamless integration với edit modal system.' },
      { type: 'fix', text: 'Sửa lỗi GameScreen component error "missing modal state variables" - Thêm isEditLocationModalOpen, activeEditLocation, setIsEditLocationModalOpen, setActiveEditLocation vào modal state destructuring trong GameScreen.tsx, khắc phục runtime errors.' },
      { type: 'fix', text: 'Khắc phục cursor jumping trong skills textarea - Enhanced input handling với temporary text state, preserve cursor position during typing, chỉ parse thành array format khi save để tránh input interruption.' },
      { type: 'fix', text: 'Smart status deletion với entity matching - Status deletion system correctly identifies statuses belonging to specific entities, handles PC status ownership properly (matches both entity name và "pc" owner), và prevents accidental deletion của wrong statuses.' },
      { type: 'technical', text: 'Comprehensive edit modal architecture - Created 4 specialized edit modals (EditSkillModal, EditNPCModal, EditPCModal, EditLocationModal) với shared patterns: two-parameter save handlers (original, edited), proper TypeScript interfaces, form validation, responsive design, và error handling.' },
      { type: 'technical', text: 'Advanced modal state integration - Updated useModalState.ts với all Location modal states, enhanced GameScreen.tsx với save handlers và prop passing, updated MemoizedModals.tsx với proper modal integration và component composition.' },
      { type: 'technical', text: 'Status deletion handler implementation - Created handleDeleteStatus với smart filtering logic, success notifications, console logging for debugging, và proper React state management. Integrated across EntityInfoModal → GameScreen → MemoizedModals component chain.' },
      { type: 'technical', text: 'Enhanced form handling và validation - All edit modals implement proper form state management, input validation, save/cancel logic, và data cleanup before saving. Support for both string và array fields với appropriate parsing.' },
    ],
  },
  {
    version: '1.40.0',
    date: '2025-08-06', 
    changes: [
      { type: 'fix', text: 'Khắc phục hoàn toàn lỗi Vietnamese IME composition - Sửa lỗi "thaạo" (diacritics không compose đúng), cursor jumping khi nhấn spacebar, và spacebar không tạo space. Triển khai intelligent IME handling với isComposing state, onCompositionStart/End events, và optimized debounced input system.' },
      { type: 'fix', text: 'Sửa lỗi UnifiedMemoryManager auto-cleanup ngừng hoạt động sau initial cycles - Cải thiện cleanup threshold logic từ simple comparison thành multi-condition triggers: over maxActive limit (45), over cleanup threshold (65), hoặc quá nhiều low-importance memories (>10). Enhanced logging để track cleanup decisions.' },
      { type: 'fix', text: 'Khắc phục lỗi skill merging tạo duplicate skills - Enhanced intelligent skill merging system với space normalization, improved base skill extraction (remove parentheses, level modifiers, colons), smart level-based upgrade logic (Level 0-4), và case-insensitive duplicate detection để tránh "Gou Gou No Mi" vs "Gou Gou no Mi".' },
      { type: 'improvement', text: 'Thêm comprehensive "Hướng Dẫn Thiết Kế NPC Có Cá Tính" vào system instruction - 127 dòng hướng dẫn chi tiết giúp AI tạo NPCs không dễ chinh phục với: nguyên tắc cốt lõi, tránh NPCs "dễ chinh phục", quan hệ xấu với thái độ đối địch, 4 archetypes tính cách mạnh mẽ, ảnh hưởng MBTI, 7 ví dụ thực tế, và quy tắc xử lý xung đột.' },
      { type: 'improvement', text: 'Enhanced skill merging với smart upgrade detection - Triển khai 5-level skill system (0: no modifier, 1: sơ cấp/cơ bản, 2: trung cấp, 3: cao cấp/nâng cao, 4: tối cao) với automatic upgrade replacement (Basic → Advanced), rejection của downgrades, và detailed console logging để tracking merge operations.' },
      { type: 'improvement', text: 'Tối ưu Vietnamese input performance - Loại bỏ useEffect dependency loops trong ActionPanel và MobileInputFooter (customAction, setCustomAction khỏi dependencies), implement useRef-based timeout management, và improved sync logic chỉ khi parent thực sự thay đổi để eliminate keystroke-triggered re-renders.' },
      { type: 'technical', text: 'Advanced IME composition system - onCompositionStart sets isComposing=true để pause debounced updates, onCompositionEnd captures final composed value và resume normal input flow, enhanced input change handling chỉ update khi không đang compose, preventive measures cho Enter key during composition.' },
      { type: 'technical', text: 'Skill base extraction algorithm - Multi-step normalization: space normalization → parentheses removal → level modifier removal → colon content removal → trim, với global regex flags để ensure complete cleaning và accurate base skill comparison.' },
      { type: 'technical', text: 'UnifiedMemoryManager threshold redesign - Chuyển từ simple threshold check sang multi-condition cleanup triggers, enhanced logging với reason tracking, lowImportanceCount display trong debug output, và comprehensive cleanup decision transparency.' },
    ],
  },
  {
    version: '1.39.0',
    date: '2025-08-06',
    changes: [
      { type: 'fix', text: 'Khắc phục lỗi NPC skills bị parse thành PC skills - Enhanced SKILL_LEARNED command với learner parameter để phân biệt kỹ năng học bởi NPC vs PC. Thêm intelligent detection system dựa trên context để tự động phân loại kỹ năng khi thiếu learner parameter.' },
      { type: 'fix', text: 'Loại bỏ console spam từ inventory và entity export debug logs - Xóa bỏ debug logs không cần thiết trong GameScreen playerInventory computation và gameActionHandlers entity export để clean up console output.' },
      { type: 'fix', text: 'Khắc phục lỗi StoryPanel auto-scroll làm gián đoạn việc đọc - Hoàn toàn disable auto-scroll behavior và simplify virtual scrolling system để story panel giữ nguyên vị trí scroll khi có nội dung mới, không còn random scroll up sau khi chọn action.' },
      { type: 'fix', text: 'Sửa lỗi PlayerCharacterSheet crash với "TypeError: t.map is not a function" - Thêm playerInventory property vào MemoizedModalsProps interface để InventoryModal nhận đúng dữ liệu inventory array thay vì undefined.' },
      { type: 'fix', text: 'Khắc phục z-index conflicts trong modal system - Tăng StatusDetailModal từ z-[90] lên z-[110] và QuestDetailModal từ z-[85] lên z-[105] để hiển thị chính xác trên EntityInfoModal (z-[100]).' },
      { type: 'fix', text: 'Sửa lỗi "Cannot read properties of undefined (reading \'toString\')" trong FloatingTimeDisplay - Thêm comprehensive null/undefined checks với safe fallbacks cho tất cả gameTime properties (hour, minute, day, month, year).' },
      { type: 'fix', text: 'Khắc phục input lag nghiêm trọng khi typing trong custom action - Triển khai local state với debounced updates (300ms) cho ActionPanel và MobileInputFooter để ngăn parent re-renders làm chậm input, đồng thời optimize inventory computation với signature-based memoization.' },
      { type: 'improvement', text: 'Enhanced SKILL_LEARNED command documentation - Cập nhật prompt instructions với examples và warnings về việc sử dụng learner parameter bắt buộc cho NPC skills, giúp AI generate tags chính xác hơn.' },
      { type: 'improvement', text: 'Optimized StoryPanel performance - Thay thế complex virtual scrolling với simplified layout để giảm computational overhead và improve scroll behavior stability.' },
      { type: 'improvement', text: 'Enhanced modal layering system - Thiết lập proper z-index hierarchy: Base modals (60-70), EntityInfoModal (100), QuestDetailModal (105), StatusDetailModal (110), EditItemModal (110).' },
      { type: 'technical', text: 'Advanced inventory computation optimization - Thêm itemsSignature-based caching để chỉ recompute inventory khi items thực sự thay đổi, ngăn unnecessary filtering operations block main thread during typing.' },
      { type: 'technical', text: 'Comprehensive input performance optimization - Local state management với useCallback handlers và debounced parent state sync để eliminate keystroke-triggered re-renders across component tree.' },
      { type: 'technical', text: 'Intelligent NPC skill detection system - Context-based parsing để tự động detect skill ownership khi thiếu explicit learner parameter, với fallback logic và comprehensive logging.' },
    ],
  },
  {
    version: '1.38.1',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'Thêm nút "CHỈNH SỬA" cho vật phẩm trong Túi Đồ - Cho phép người chơi chỉnh sửa trực tiếp thông tin vật phẩm (tên, mô tả, số lượng, độ bền, thuộc tính có thể sử dụng/trang bị) thông qua EditItemModal chuyên dụng.' },
      { type: 'feature', text: 'Triển khai EditItemModal với giao diện chỉnh sửa toàn diện - Hỗ trợ chỉnh sửa tất cả thuộc tính vật phẩm bao gồm name, description, quantities/uses, durability, và các boolean properties (usable, equippable, learnable, consumable, equipped).' },
      { type: 'fix', text: 'Khắc phục lỗi z-index layering - EntityInfoModal bị che phủ bởi InventoryModal khi mở từ edit button. Tăng z-index của EntityInfoModal từ z-[80] lên z-[100] để hiển thị đúng thứ tự.' },
      { type: 'fix', text: 'Sửa lỗi nghiêm trọng item editing tạo duplicate thay vì cập nhật - Cải thiện handleSaveEditedItem để track original item name, remove old item khi rename, và update existing item đúng cách thay vì tạo mới.' },
      { type: 'improvement', text: 'Enhanced inventory management với edit capabilities - Edit button màu tím xuất hiện cạnh các nút USE/EQUIP/DISCARD khi select item, tích hợp hoàn toàn với modal system và state management.' },
      { type: 'improvement', text: 'Smart item update system - Xử lý cả trường hợp rename item (xóa item cũ, tạo item mới) và modify properties (update in-place) với proper notification system và modal cleanup.' },
      { type: 'technical', text: 'Comprehensive state management integration - Thêm isEditItemModalOpen, activeEditItem states, modal close handlers, và proper prop passing qua component hierarchy.' },
      { type: 'technical', text: 'Enhanced EditItemModal architecture - Two-parameter save handler (originalItem, editedItem), proper form validation, responsive design với glass-morphism styling, và full TypeScript integration.' },
    ],
  },
  {
    version: '1.38.0',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'Thêm hỗ trợ phút (minutes) cho hệ thống thời gian game - Game time giờ hiển thị chính xác phút (8:45 thay vì 8:00), TIME_ELAPSED command hỗ trợ minutes parameter cho hành động ngắn như mua sắm (15 phút) hoặc di chuyển gần (30-45 phút).' },
      { type: 'feature', text: 'Cải tiến hệ thống Kỹ Năng Khởi Đầu - Tách thành 2 trường riêng biệt (tên kỹ năng và mô tả), thêm nút (+) để thêm nhiều kỹ năng khởi đầu, nút (-) để xóa kỹ năng, layout responsive với grid system.' },
      { type: 'feature', text: 'Thêm lại trường Mục Tiêu (AddGoal) - Textbox mới trong CreateWorld dưới phần Bio, cho phép người chơi định nghĩa mục tiêu và động lực của nhân vật, được lưu vào motivation field của PC entity.' },
      { type: 'feature', text: 'Thêm LORE_PC command tag - Cho phép AI tạo hoặc cập nhật thông tin Player Character trong gameplay, hỗ trợ đầy đủ các thuộc tính như description, personality, motivation, realm, currentExp, và learnedSkills.' },
      { type: 'fix', text: 'Khắc phục lỗi game time ngừng cập nhật - Sửa lỗi TIME_ELAPSED với hours=0 không trigger time update, giờ tất cả TIME_ELAPSED đều được xử lý bình thường kể cả instant actions.' },
      { type: 'fix', text: 'Khắc phục lỗi AddGoal bị AI ghi đè - LORE_PC command giờ merge với existing PC data thay vì overwrite hoàn toàn, bảo tồn motivation field và các thuộc tính quan trọng khác được set trong character creation.' },
      { type: 'fix', text: 'Khắc phục lỗi starting skills không parse vào PC - Thêm debug logging và xử lý backward compatibility, starting skills giờ được thêm vào PC learnedSkills và tạo skill entities trong knownEntities đúng cách.' },
      { type: 'improvement', text: 'Cập nhật system instruction với examples về minutes - AI giờ được hướng dẫn sử dụng minutes cho các hành động ngắn (5-30 phút), giúp thời gian game realistic hơn.' },
      { type: 'improvement', text: 'Enhanced time calculation logic - Thêm minute overflow handling (60 minutes = 1 hour), cải thiện calculateNewTime function để xử lý chính xác thời gian phức tạp.' },
      { type: 'technical', text: 'Backward compatibility cho saved games - Game time structure mới tự động thêm minute: 0 cho các save file cũ, không làm mất dữ liệu người chơi.' },
    ],
  },
  {
    version: '1.37.3',
    date: '2025-08-05',
    changes: [
      { type: 'feature', text: 'Thêm nút Túi đồ (Inventory) cho mobile UI - Triển khai floating action button với ChestIcon màu amber, positioned above choices button, kết nối với cùng InventoryModal như desktop.' },
      { type: 'improvement', text: 'Tối ưu hóa InventoryModal cho mobile devices - Responsive grid layout (4 cols mobile, 6 tablet, 8 desktop), adaptive cell sizes, optimized button spacing và typography cho touch-friendly experience.' },
      { type: 'fix', text: 'Khắc phục lỗi inventory UI không update khi nhặt items từ story - Enhanced inventory filtering với proper useMemo dependency tracking trên knownEntities changes, đảm bảo real-time inventory updates khi ITEM_AQUIRED tags được processed.' },
      { type: 'technical', text: 'Restructured inventory computation system - Moved playerInventory filtering từ inline MemoizedModals props sang entityComputations useMemo với proper knownEntities dependency, improved React rendering performance và state consistency.' },
      { type: 'improvement', text: 'Mobile inventory grid optimizations - Reduced từ 64 slots xuống 48 slots, responsive min-height values (60px-80px), flexible button layouts với wrap support, và improved padding/spacing cho mobile screens.' },
    ],
  },
  {
    version: '1.37.2',
    date: '2025-08-04',
    changes: [
      { type: 'fix', text: 'Khắc phục lỗi Use button không hiển thị cho usable items - Sửa type mismatch giữa InventoryModal và item handlers, đảm bảo usable items hiển thị nút "SỬ DỤNG" chính xác.' },
      { type: 'fix', text: 'Sửa lỗi nghiêm trọng Enhanced RAG Error khi sử dụng items - Thêm defensive programming với null checks cho gameState properties (party, knownEntities, memories) để tránh crashes.' },
      { type: 'fix', text: 'Khắc phục lỗi discarded items vẫn hiển thị trong inventory UI - Triển khai direct handleDiscardItem function và ITEM_DISCARDED tag processor để xóa items ngay lập tức.' },
      { type: 'improvement', text: 'Nâng cấp AdminPanel item creation system - Sửa ITEM_AQUIRED tag generation để sử dụng quoted values cho boolean properties, đảm bảo usable/equippable properties được parse chính xác.' },
      { type: 'improvement', text: 'Simplified item type system - Loại bỏ redundant "consumable" property, chỉ giữ lại "usable" và "equippable" để tránh confusion và duplicate functionality.' },
      { type: 'improvement', text: 'Enhanced item discard system - Direct inventory removal với story log confirmation, không còn phụ thuộc vào AI response để xử lý việc vứt bỏ items.' },
      { type: 'improvement', text: 'Updated AdminPanel UI - Loại bỏ option "Tiêu hao" (Consumable) khỏi dropdown, simplified thành 3 types: Khác, Có thể sử dụng, Có thể trang bị.' },
      { type: 'technical', text: 'Comprehensive gameState null safety - Added optional chaining cho tất cả RAG systems (EnhancedRAG, ReferenceBasedRAG, SmartMemoryGenerator) để handle undefined properties gracefully.' },
      { type: 'technical', text: 'Item handler type safety improvements - Fixed parameter type mismatches giữa InventoryModal (Entity objects) và entity handlers (string names) với proper wrapper functions.' },
      { type: 'technical', text: 'Enhanced tag processing system - ITEM_AQUIRED tag giờ support quoted boolean values và proper attribute parsing cho AdminPanel-generated items.' },
      { type: 'improvement', text: 'Item quantity system modernization - Chuyển đổi từ "uses" sang "quantities" property throughout system: AdminPanel UI, Entity interface, tag processing, inventory display, và AI system instruction.' },
      { type: 'fix', text: 'Items now properly removed when quantities reach 0 - Enhanced ITEM_CONSUMED logic để delete items khi quantities <= 0, support both legacy "uses" và new "quantities" properties.' },
    ],
  },
  {
    version: '1.37.1',
    date: '2025-08-04',
    changes: [
      { type: 'fix', text: 'Khắc phục lỗi quest experience rewards không được tự động cộng vào PC - Triển khai automatic experience parsing và application khi quest hoàn thành qua QUEST_UPDATED và QUEST_OBJECTIVE_COMPLETED tags.' },
      { type: 'fix', text: 'Sửa luyện API empty response error handling - Enhanced error logging với detailed response metadata, specific error diagnosis (content filtering, network issues), và actionable user guidance messages.' },
      { type: 'fix', text: 'Khắc phục forced reflow performance issues gây API blocking - Optimized StoryPanel component với requestAnimationFrame wrapping cho getBoundingClientRect calls, debounced resize handlers, và disabled virtual scrolling during loading states.' },
      { type: 'improvement', text: 'Enhanced quest completion system - Tự động parse experience từ reward strings (hỗ trợ "exp", "kinh nghiệm", "experience" patterns), apply vào PC currentExp, và trigger realm progression checks.' },
      { type: 'improvement', text: 'Improved API error diagnostics - Chi tiết logging bao gồm response metadata, model info, user actions, với specific error condition detection (token limits, content filtering, network issues).' },
      { type: 'improvement', text: 'StoryPanel performance optimizations - RequestAnimationFrame cho DOM measurements, 150ms debounced resize handlers, simplified virtual scrolling cho lists <10 items, và loading state performance guards.' },
      { type: 'technical', text: 'Quest reward processing integration - Modified commandTagProcessor.ts để handle experience rewards trong quest completion flows, với automatic realm progression checking và console logging cho debugging.' },
      { type: 'technical', text: 'DOM performance optimization architecture - Eliminated synchronous getBoundingClientRect calls, implemented proper cleanup patterns cho timeouts, và reduced layout thrashing trong virtual scrolling.' },
    ],
  },
  {
    version: '1.37.0',
    date: '2025-02-02',
    changes: [
      { type: 'fix', text: 'Sửa lỗi SmartMemoryGenerator tạo duplicate memories - Triển khai comprehensive deduplication system với text similarity analysis, keyword extraction (Vietnamese stop-words), semantic similarity checking (>80% threshold), và category-based duplicate detection.' },
      { type: 'fix', text: 'Khắc phục duplicate processing trong memory management architecture - Loại bỏ legacy HistoryManager direct calls từ GameScreen, đảm bảo tất cả memory operations đi qua UnifiedMemoryManager để tránh xung đột configuration.' },
      { type: 'improvement', text: 'Enhanced memory deduplication với multi-layer detection - Text normalization, entity/tag overlap analysis, và real-time duplicate checking trong tất cả memory generation paths (story analysis, relationship tracking, achievement generation).' },
      { type: 'improvement', text: 'Unified Memory Architecture consolidation - Game giờ sử dụng exclusively UnifiedMemoryManager thay vì mixed approach, đảm bảo coordinated cleanup sequence và consistent configuration across tất cả subsystems.' },
      { type: 'improvement', text: 'Optimized UnifiedMemoryManager thresholds - Tăng maxActiveMemories (40→80), maxActiveHistoryEntries (20→50), memoryCleanupThreshold (40→100), historyCompressionThreshold (16→40) để giảm aggressive cleanup và preserve context tốt hơn.' },
      { type: 'improvement', text: 'Smart Memory Generator deduplication enhancements - Centralized duplicate checking với isDuplicateMemory(), deduplicateMemories(), calculateTextSimilarity() methods, và Vietnamese-optimized text analysis với contextual stop-words filtering.' },
      { type: 'technical', text: 'Memory architecture simplification - Removed legacy fallback history compression, unified import structure, và eliminated configuration conflicts giữa HistoryManager và UnifiedMemoryManager systems.' },
      { type: 'technical', text: 'Enhanced duplicate detection algorithms - Jaccard similarity cho text comparison, significant overlap detection cho entities/tags (50% threshold), và category-based validation với importance scoring integration.' },
    ],
  },
  {
    version: '1.36.1',
    date: '2025-01-30',
    changes: [
      { type: 'feature', text: 'Thêm tính năng xuất WorldSetup - cho phép người chơi xuất cấu hình thế giới (worldData và customRules) thành file JSON để sử dụng lại hoặc chia sẻ với người khác.' },
      { type: 'feature', text: 'Tích hợi nút "📤 Xuất WorldSetup" vào cả SidebarNav (mobile) và DesktopHeader menu để dễ dàng truy cập từ trong game.' },
      { type: 'improvement', text: 'File xuất được đặt tên theo format "worldsetup_[tên truyện]_[timestamp].json" với hỗ trợ Unicode đầy đủ cho tên tiếng Việt.' },
      { type: 'improvement', text: 'Loại bỏ các console.log debug từ quest generation và entity export để clean up console output.' },
      { type: 'fix', text: 'Sửa lỗi "Failed to fetch" khi gọi AI API - thường do vấn đề network connectivity hoặc firewall blocking.' },
      { type: 'technical', text: 'WorldSetup export bao gồm worldData, customRules, exportTimestamp và exportVersion để đảm bảo compatibility và traceability.' },
    ],
  },
  {
    version: '1.36.0',
    date: '2025-07-27',
    changes: [
      { type: 'fix', text: 'Sửa lỗi nghiêm trọng khiến Entity Export chạy trùng lặp - 2 instance cùng lúc tạo ra file duplicate. Triển khai comprehensive export locking mechanism với export ID tracking, singleton pattern enforcement, và 5-second cooldown protection.' },
      { type: 'fix', text: 'Khắc phục lỗi Reference-based RAG không hoạt động đúng - Prompt builder vẫn include cả traditional RAG context lẫn reference-based context, phá hỏng mục tiêu tiết kiệm 60-80% tokens. Giờ chỉ sử dụng reference context khi enabled.' },
      { type: 'improvement', text: 'Nâng cấp EntityExportManager với advanced duplicate prevention - Export ID tracking using Set data structure, window-level singleton enforcement, pending exports management, và automatic cleanup system.' },
      { type: 'improvement', text: 'Tối ưu hóa Reference-based RAG system - Loại bỏ traditional entity retrieval khi sử dụng compact context, exclusive context usage, và proper token calculation để đạt được token reduction thực sự.' },
      { type: 'improvement', text: 'Enhanced export locking với export ID integration - gameActionHandlers.ts giờ pass export ID vào shouldExport() và exportEntities() methods, enabling proper duplicate detection và race condition prevention.' },
      { type: 'technical', text: 'Implement export ID tracking system - Unique export IDs với format export_{turn}_{timestamp}_{random}, tracked in pendingExports Set, và automatic cleanup trong finally blocks.' },
      { type: 'technical', text: 'Reference RAG optimization - Entity retrieval từ compact context references thay vì traditional scoring, null intelligentContext khi USE_REFERENCE_RAG enabled, và exclusive prompt assembly logic.' },
      { type: 'technical', text: 'Enhanced EntityExportManager architecture - Window-level singleton pattern, export lock với currentTurn tracking, lastLockTime với cooldown protection, và comprehensive logging system.' },
    ],
  },
  {
    version: '1.35.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triển khai hệ thống Custom Experience Name hoàn chỉnh - Người chơi có thể định nghĩa tên đơn vị kinh nghiệm trong CreateWorld (ví dụ: Chakra, Linh lực, Ma lực) thay vì "Kinh nghiệm" cố định.' },
      { type: 'feature', text: 'Nâng cấp Realm System với Configurable Tiers - CreateWorld giờ có section "Thiết Lập Hệ Thống Cảnh Giới" với khả năng tự định nghĩa tên cảnh giới và experience requirements cho từng tier.' },
      { type: 'feature', text: 'Dynamic Realm Tier Management - Thêm nút (+) và (-) để tạo/xóa realm tiers, với validation và auto-numbering system để quản lý cảnh giới linh hoạt.' },
      { type: 'feature', text: 'Enhanced Entity Display System - EntityInfoModal và PlayerCharacterSheet giờ hiển thị realm và experience sử dụng custom expName được định nghĩa trong world configuration.' },
      { type: 'improvement', text: 'Backward Compatibility cho Save Files - Hệ thống tự động migrate old save files và settings, đảm bảo game cũ vẫn chạy bình thường với default realm system.' },
      { type: 'improvement', text: 'World Configuration Data Flow - Implement proper prop passing từ GameScreen → MemoizedModals → EntityInfoModal/PlayerCharacterSheet để hiển thị custom expName.' },
      { type: 'fix', text: 'Duplicate Realm Field Bug Fix - Loại bỏ duplicate realm display trong PC EntityInfoModal, giờ chỉ hiển thị "Cảnh giới" một lần cho characters và "Cảnh giới Công Pháp" cho skills.' },
      { type: 'technical', text: 'Extended FormData Interface - Thêm expName (string) và realmTiers (RealmTier[]) fields với full TypeScript support cho realm system configuration.' },
      { type: 'technical', text: 'RealmTier Interface Implementation - Tạo structured interface với id, name, requiredExp fields để quản lý realm progression system.' },
      { type: 'technical', text: 'Enhanced Entity Interface - Thêm currentExp field và realm display logic để support custom experience systems trong game entities.' },
      { type: 'technical', text: 'CreateWorld UI Enhancement - Implement realm management functions với add/remove tier functionality và real-time validation system.' },
      { type: 'technical', text: 'World Data Propagation - Setup complete data flow từ world creation → game state → modal display để đảm bảo custom expName hiển thị đúng ở mọi nơi.' },
    ],
  },
  {
    version: '1.34.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triển khai hệ thống tự động tạo quest khởi đầu - Mỗi khi tạo thế giới mới, game sẽ tự động tạo một quest exploration để người chơi có mục tiêu ngay từ đầu cuộc phiêu lưu.' },
      { type: 'feature', text: 'Tích hợp QuestGenerator và QuestIntegrator vào quy trình khởi tạo thế giới - Sử dụng AI để tạo quest phù hợp với bối cảnh thế giới, với fallback template nếu AI generation thất bại.' },
      { type: 'improvement', text: 'Cải thiện progress tracking trong world creation - Thêm bước "Đang tạo quest khởi đầu" với progress indicator để người chơi biết hệ thống đang làm gì.' },
      { type: 'improvement', text: 'Enhanced quest integration với automatic quest giver creation - Nếu quest giver chưa tồn tại, hệ thống sẽ tự động tạo NPC quest giver với thông tin phù hợp.' },
      { type: 'improvement', text: 'Automatic initial quest memory creation - Khi quest được tạo, hệ thống tự động tạo memory tương ứng để AI nhớ và tham chiếu trong gameplay.' },
      { type: 'technical', text: 'Enhanced createInitialQuest function với comprehensive error handling - Support cho multiple AI models, fallback system, và detailed logging cho debugging.' },
      { type: 'technical', text: 'Integration với existing quest system architecture - Sử dụng QuestSeed, QuestGenerator.generateQuestsFromSeeds(), và QuestIntegrator.forceIntegrateQuest() để đảm bảo tính nhất quán.' },
      { type: 'technical', text: 'Quest seed configuration optimized cho new worlds - Default exploration type quest với easy difficulty và relevant hooks về khám phá thế giới mới.' },
    ],
  },
  {
    version: '1.33.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triển khai hệ thống Theme Color hoàn chỉnh trong GameSettings - Thêm 6 bộ màu chủ đề từ tối đến sáng: Đen Xám Đậm, Xanh Dương Đậm, Tím Hoàng Gia (mặc định), Ngọc Lục Bảo, Hồng Vàng, và Hoàng Hôn.' },
      { type: 'feature', text: 'Redesign hoàn toàn GameScreen với glass-morphism theme matching CreateWorld - Story panel và Action panel giờ có consistent glass styling, gradient backgrounds, và enhanced readability.' },
      { type: 'feature', text: 'Thêm dynamic theming system - Background gradients và floating orbs tự động thay đổi màu sắc theo theme được chọn, tạo trải nghiệm visual nhất quán.' },
      { type: 'improvement', text: 'Enhanced GameSettings với theme preview cards - Mỗi theme có preview card với gradient background, floating orbs simulation, tên theme và mô tả chi tiết.' },
      { type: 'improvement', text: 'Nâng cấp Story Panel với modern glass design - Header với gradient text, story items có glass-morphism cards, loading indicator với backdrop blur, và scroll controls chuyên nghiệp.' },
      { type: 'improvement', text: 'Redesign Action Panel (Choice Panel) với improved UX - Choice buttons giờ là beautiful cards với numbered indicators, hover effects với scale transitions, và enhanced input section.' },
      { type: 'improvement', text: 'Cải thiện GameScreen background - Consistent gradient theme với CreateWorld, floating orbs với animations, và background pattern để tạo visual depth.' },
      { type: 'improvement', text: 'Theme color persistence và live preview - Theme choices được lưu vào localStorage và apply ngay lập tức khi chọn, với CSS variables integration.' },
      { type: 'improvement', text: 'Enhanced visual hierarchy và readability - Better text contrast, card-based layout, smooth animations, và improved information organization.' },
      { type: 'technical', text: 'Tạo themeUtils.ts utility system - getThemeColors(), getThemeCSS(), applyThemeToElement() functions để quản lý theme colors hiệu quả.' },
      { type: 'technical', text: 'Extended GameSettings interface - Thêm themeColor property với full TypeScript integration và backward compatibility.' },
      { type: 'technical', text: 'Updated useGameSettings hook - Handle theme color persistence, CSS variables application, và document root styling.' },
      { type: 'technical', text: 'Comprehensive build testing - Đảm bảo tất cả theme features pass npm run build và dev server functionality.' },
      { type: 'technical', text: 'Cross-component theme consistency - GameScreen và CreateWorld đều sử dụng cùng theme system để đảm bảo visual coherence.' },
    ],
  },
  {
    version: '1.32.0',
    date: '2025-07-27',
    changes: [
      { type: 'improvement', text: 'Đại tu hoàn toàn giao diện CreateWorld với thiết kế Glass-Morphism hiện đại - Áp dụng backdrop-blur effects, gradient backgrounds và floating orbs để tạo giao diện cao cấp và chuyên nghiệp.' },
      { type: 'improvement', text: 'Redesign hệ thống tab navigation với glass-morphism styling - Tab navigation mới có smooth transitions, gradient highlights và visual depth effects.' },
      { type: 'improvement', text: 'Nâng cấp form cards với color-coded sections - Story context (purple/pink), Character (blue/sky), Writing style (yellow/orange), Difficulty (red/orange) để dễ phân biệt và điều hướng.' },
      { type: 'improvement', text: 'Cải thiện toàn bộ input fields với consistent glass styling - Tất cả input fields giờ sử dụng backdrop-blur, semi-transparent backgrounds và gradient focus effects.' },
      { type: 'improvement', text: 'Redesign suggestion buttons với gradient backgrounds và hover animations - Sparkle icons và smooth hover transitions tạo trải nghiệm tương tác tuyệt vời.' },
      { type: 'improvement', text: 'Nâng cấp start game button với state-based icons và animations - Loading states với spinning icons, ready state với sparkle animations, và disabled state với warning icons.' },
      { type: 'improvement', text: 'Cập nhật SuggestionModal với thiết kế glass-morphism - Modal giờ có backdrop-blur, gradient headers và smooth hover effects trên suggestion items.' },
      { type: 'improvement', text: 'Thêm floating orbs background pattern với animations - Subtle animated orbs tạo visual depth và modern aesthetic cho toàn bộ interface.' },
      { type: 'improvement', text: 'Enhanced footer section với professional layout - Error displays với glass styling, descriptive text và proper spacing cho trải nghiệm hoàn thiện.' },
      { type: 'fix', text: 'Sửa lỗi SVG encoding trong background pattern - Chuyển từ Tailwind class sang inline style để xử lý đúng complex URL encoding.' },
      { type: 'fix', text: 'Khắc phục missing closing div tag - Sửa JSX structure errors gây build failure.' },
      { type: 'fix', text: 'Sửa lỗi missing icon import - Thay ExclamationTriangleIcon bằng ExclamationIcon từ Icons.tsx có sẵn.' },
      { type: 'technical', text: 'Comprehensive build testing - Đảm bảo tất cả changes pass npm run build và dev server khởi động thành công.' },
      { type: 'technical', text: 'Maintained full backward compatibility - Tất cả existing functionality được preserve trong khi nâng cấp UI/UX.' },
      { type: 'technical', text: 'Optimized CSS with consistent design tokens - Standardized color schemes, spacing và transition timings across toàn bộ redesign.' },
    ],
  },
  {
    version: '1.31.0',
    date: '2025-07-27',
    changes: [
      { type: 'feature', text: 'Triển khai Unified Memory System - Hệ thống quản lý memory thống nhất với MemoryEnhancer, MemoryOptimizer, và SmartMemoryCreator để tối ưu hóa chất lượng và hiệu suất memory management.' },
      { type: 'feature', text: 'Phát triển MemoryEnhancer với advanced processing - Automatic importance scoring, entity extraction, tag generation, emotional weight calculation và relationship mapping cho memories.' },
      { type: 'feature', text: 'Xây dựng MemoryOptimizer với intelligent cleanup - Coordinated memory cleanup system với duplicate detection, importance-based filtering và automatic archiving cho low-value memories.' },
      { type: 'feature', text: 'Tạo SmartMemoryCreator với context-aware generation - AI-powered memory creation từ recent events với proper categorization, tagging system và quality assessment.' },
      { type: 'feature', text: 'Triển khai hệ thống AI-Driven Quest Generation hoàn chỉnh - Tự động phân tích memories để tạo ra quests phù hợp với bối cảnh game, bao gồm 4 loại quest: consequence (hậu quả), mystery (bí ẩn), exploration (khám phá), character_arc (phát triển nhân vật).' },
      { type: 'feature', text: 'Tích hợp QuestAnalyzer với memory pattern recognition - Hệ thống tự động nhận diện các patterns trong memories để tạo ra quest opportunities với scoring system và Vietnamese language support.' },
      { type: 'feature', text: 'Phát triển QuestGenerator với AI-powered content creation - Sử dụng multi-model fallback system (gemini-2.0-flash, gemini-1.5-pro) và template-based fallback để đảm bảo độ tin cậy cao.' },
      { type: 'feature', text: 'Xây dựng QuestValidator với comprehensive validation - Kiểm tra world consistency, language quality, entity references và automatic issue fixing với confidence scoring system.' },
      { type: 'feature', text: 'Tạo QuestIntegrator với advanced duplicate prevention - Enhanced duplicate detection sử dụng text similarity, automatic title uniquification với Vietnamese suffixes, và React state management integration.' },
      { type: 'feature', text: 'Triển khai QuestManagementEngine - Coordinated pipeline từ analysis đến integration với error handling, statistics tracking và debug logging system.' },
      { type: 'improvement', text: 'Enhanced Memory Interface với advanced memory operations - Standardized memory processing pipeline với consistent importance scoring, entity extraction và relationship mapping.' },
      { type: 'improvement', text: 'Coordinated Cleanup System cho memory optimization - Intelligent memory archiving với duplicate detection, importance thresholds và automatic low-value memory removal.' },
      { type: 'improvement', text: 'Smart Memory Creation với AI-powered context analysis - Automatic memory generation từ story events với proper categorization, emotional weight assessment và tag assignment.' },
      { type: 'improvement', text: 'Advanced Integration và Optimization cho unified memory system - Cross-component integration với shared interfaces, performance monitoring và error handling.' },
      { type: 'improvement', text: 'Nâng cấp quest generation UI/UX - Debug functions được expose ra console (generateQuestsFromMemories, analyzeQuestOpportunities, generateQuickQuest) cho development và testing.' },
      { type: 'improvement', text: 'Cải thiện quest integration confidence system - Giảm penalty thái quá trong validation (diminishing returns), tăng minimum confidence threshold và cấu hình integration config hợp lý hơn.' },
      { type: 'improvement', text: 'Enhanced quest unique ID generation - Multi-layer uniqueness với static counter, timestamp, seed ID và random components để tránh collisions hoàn toàn.' },
      { type: 'improvement', text: 'Tối ưu React quest rendering với unique keys - Implement getQuestKey() function sử dụng uniqueId từ generated quests và content hash fallback cho regular quests.' },
      { type: 'improvement', text: 'Quest generation concurrency prevention - Implement debounce mechanism với isGeneratingQuests state để tránh duplicate generation calls và race conditions.' },
      { type: 'improvement', text: 'Memory deduplication system cho quest integration - Automatic detection và prevention của duplicate quest memories với text similarity checking và React state filtering.' },
      { type: 'fix', text: 'Sửa lỗi quest integration failure do confidence threshold quá cao - Giảm minimumConfidence từ 0.6 xuống 0.3 và tắt skipLowConfidenceQuests để cho phép quest integration thành công.' },
      { type: 'fix', text: 'Khắc phục React key conflicts "Encountered two children with the same key" - Implement unique quest identification system và proper React key management.' },
      { type: 'fix', text: 'Sửa lỗi duplicate quest generation - Enhanced duplicate detection trong quest integration với title similarity checking và batch processing awareness.' },
      { type: 'fix', text: 'Khắc phục duplicate memory creation - Quest integration memories giờ được check duplicate trước khi tạo và React state được deduplicate trước khi update.' },
      { type: 'technical', text: 'Unified Memory System architecture với 3 specialized components: MemoryEnhancer (processing), MemoryOptimizer (cleanup), SmartMemoryCreator (generation) - Coordinated memory lifecycle management.' },
      { type: 'technical', text: 'Quest system architecture với 5 core components: QuestAnalyzer, QuestGenerator, QuestValidator, QuestIntegrator, QuestManagementEngine - Fully modular và extensible design.' },
      { type: 'technical', text: 'Comprehensive quest generation pipeline với error handling, multi-model fallback, validation system và integration safeguards.' },
      { type: 'technical', text: 'Debug tools và cleanup functions - generateSmartMemories(), analyzeMemories(), cleanDuplicateQuests(), cleanDuplicateMemories() available via console cho development support.' },
      { type: 'technical', text: 'Vietnamese language optimization trong quest generation - Proper quest type translations, Vietnamese suffix generation và content quality assessment.' },
    ],
  },
  {
    version: '1.30.0',
    date: '2025-07-26',
    changes: [
      { type: 'feature', text: 'Đại tu hệ thống tổ đội và đồng hành - Cải thiện mạnh mẽ việc AI sử dụng companions trong gameplay thông qua enhanced party system với relevance scoring và skill matching.' },
      { type: 'feature', text: 'Triển khai comprehensive party debugging system - Tự động log mọi sự kiện join/leave companions, thay đổi relationship, status changes với color-coded console output.' },
      { type: 'feature', text: 'Enhanced AI context building cho party coordination - AI ưu tiên thông tin companions với token budget allocation và skill-based relevance scoring.' },
      { type: 'improvement', text: 'Nâng cấp UI PartyMemberTab với detailed card layout - Hiển thị status indicators, relationship colors, skill previews và buff/debuff counters.' },
      { type: 'improvement', text: 'Enhanced COMPANION tag processing - Hỗ trợ skills parsing, default relationships và automatic party integration với debugging logs.' },
      { type: 'improvement', text: 'Cải thiện system instructions - Thêm mandatory party coordination guidelines và enhanced COMPANION tag documentation với skill attributes.' },
      { type: 'fix', text: 'Sửa lỗi runtime "buildEnhancedPartyContext is not a function" - Khôi phục missing method trong promptBuilder.ts sau file cleanup.' },
      { type: 'fix', text: 'Khắc phục z-index conflicts trong EntityInfoModal - StatusDetailModal và QuestDetailModal giờ hiển thị chính xác trên EntityInfoModal.' },
      { type: 'technical', text: 'Tích hợp partyDebugger vào command tag processing và game state monitoring - Real-time tracking cho tất cả party-related changes.' },
      { type: 'technical', text: 'Cập nhật z-index hierarchy: StatusDetailModal (z-90), QuestDetailModal (z-85), EntityInfoModal (z-80) để đảm bảo proper modal layering.' },
    ],
  },
  {
    version: '1.29.0',
    date: '2025-07-26',
    changes: [
      { type: 'feature', text: 'Thêm hệ thống thanh tiến độ khởi tạo thế giới - hiển thị tiến trình chi tiết khi nhấn nút "Chơi Ngay" với thông báo "Thế giới đang khởi tạo xin hãy kiên nhẫn".' },
      { type: 'feature', text: 'Triển khai hệ thống tạo LORE_CONCEPT tự động từ Custom Rules trước khi khởi tạo story, giúp AI hiểu rõ hơn về thế giới game.' },
      { type: 'feature', text: 'Thêm tính năng tự động tạo ngoại hình (Appearance) cho nhân vật chính bằng AI dựa trên tên, giới tính, tiểu sử và tính cách.' },
      { type: 'improvement', text: 'Cải thiện quá trình khởi tạo game với 8 bước tiến trình rõ ràng: Tải cấu hình → Tạo PC → Tạo ngoại hình → Phân tích rules → Tạo concepts → Thiết lập game → Chuyển màn hình → Hoàn tất.' },
      { type: 'improvement', text: 'Nâng cấp generateInitialStory để sử dụng LORE_CONCEPT đã tạo, tạo câu chuyện mở đầu 300-400 từ chi tiết và tích hợp concepts tự nhiên.' },
      { type: 'improvement', text: 'PC EntityInfoModal giờ hiển thị trường Appearance (ngoại hình) được tạo tự động, cung cấp mô tả trực quan về nhân vật.' },
      { type: 'fix', text: 'Sửa lỗi nút "Chơi Ngay" không hoạt động do startNewGame function chuyển thành async nhưng các component gọi chưa được cập nhật.' },
      { type: 'fix', text: 'Khắc phục lỗi "Type is not defined" trong generateLoreConcepts function bằng cách thêm import Type từ @google/genai.' },
      { type: 'technical', text: 'Cập nhật MenuButton component để hỗ trợ async onClick handlers với proper error handling và debugging.' },
      { type: 'technical', text: 'Thêm comprehensive debugging system với console logs chi tiết cho toàn bộ quá trình Quick Play và khởi tạo game.' },
    ],
  },
  {
    version: '1.28.1',
    date: '2025-07-25',
    changes: [
      { type: 'fix', text: 'Sửa lỗi drifting (trôi dạt) nghiêm trọng trên Bản Đồ Thế Giới - bản đồ không còn bị trôi không kiểm soát khi hover chuột qua các địa điểm.' },
      { type: 'fix', text: 'Khắc phục lỗi click vào địa điểm không hoạt động sau các lần sửa lỗi drifting trước đó.' },
      { type: 'improvement', text: 'Tối ưu hóa hệ thống drag detection: Chỉ cho phép kéo bản đồ khi click vào vùng trống, không phản ứng với hover/click trên địa điểm.' },
      { type: 'improvement', text: 'Loại bỏ hover effects có thể gây xung đột với hệ thống drag (như hover:scale-110 transform).' },
      { type: 'technical', text: 'Cải thiện logic mouse event handling: Phân biệt rõ ràng giữa drag operations và location clicks để tránh xung đột.' },
    ],
  },
  {
    version: '1.28.0',
    date: '2025-07-25',
    changes: [
      { type: 'feature', text: 'Thêm tính năng lựa chọn Model AI trong Thiết Lập API Key - người dùng có thể chọn giữa gemini-2.5-flash và gemini-2.5-flash-preview-05-20.' },
      { type: 'feature', text: 'Hiển thị Model AI hiện tại đang sử dụng tại màn hình menu chính để người chơi dễ dàng theo dõi.' },
      { type: 'improvement', text: 'Cập nhật giao diện Thiết Lập API Key với dropdown lựa chọn model thay vì button cố định.' },
      { type: 'improvement', text: 'Tích hợp việc lưu trữ và khôi phục lựa chọn model AI vào localStorage để duy trì settings giữa các phiên chơi.' },
      { type: 'improvement', text: 'Cập nhật toàn bộ hệ thống AI (GameScreen, CreateWorld) để sử dụng model được chọn thay vì hardcode gemini-2.5-flash.' },
    ],
  },
  {
    version: '1.27.0',
    date: '2025-07-25',
    changes: [
      { type: 'feature', text: 'Thêm hệ thống bookmarking trong Knowledge Base - đánh dấu entities quan trọng với biểu tượng ⭐ để truy cập nhanh.' },
      { type: 'feature', text: 'Triển khai search debouncing với delay 300ms trong Knowledge Base để cải thiện performance khi tìm kiếm.' },
      { type: 'feature', text: 'Thêm virtual scrolling cho danh sách entities lớn (15+ items) - tự động tối ưu hiệu suất hiển thị.' },
      { type: 'feature', text: 'Thêm chức năng collapsible categories - click header để thu gọn/mở rộng các danh mục trong Knowledge Base.' },
      { type: 'feature', text: 'Triển khai hệ thống theo dõi usage analytics - hiển thị entities được truy cập gần đây và thường xuyên.' },
      { type: 'feature', text: 'Thêm keyboard shortcut "K" và "Ctrl+K" để mở Knowledge Base nhanh chóng từ bất kỳ đâu trong game.' },
      { type: 'improvement', text: 'Knowledge Base giờ không tự động đóng khi click vào interactive text - cho phép khám phá liên tục nhiều entities.' },
      { type: 'improvement', text: 'Cải thiện thuật toán search - tìm kiếm cả trong tên và mô tả entities, ưu tiên bookmarked items.' },
      { type: 'improvement', text: 'Thêm categories mới "Đã Đánh Dấu" và "Gần Đây" ở đầu Knowledge Base để truy cập nhanh.' },
      { type: 'improvement', text: 'Hiển thị số lượng items và usage count cho mỗi entity, cùng loading indicator khi đang search.' },
      { type: 'improvement', text: 'Thêm visual indicators cho keyboard shortcuts trong menu (Desktop: "K", Mobile sidebar: "K").' },
      { type: 'fix', text: 'Sửa lỗi 404 favicon.ico - loại bỏ reference đến vite.svg không tồn tại trong index.html.' },
      { type: 'fix', text: 'Khắc phục cảnh báo Tailwind CDN production - thay thế bằng local Tailwind CSS v3 với PostCSS processing.' },
      { type: 'fix', text: 'Sửa lỗi React static flag compatibility với React 19 - refactor tất cả components sang pattern memo() mới.' },
      { type: 'fix', text: 'Khắc phục z-index conflict - EntityInfoModal, StatusDetailModal, QuestDetailModal giờ hiển thị trên Knowledge Base.' },
      { type: 'technical', text: 'Cấu hình Tailwind CSS v3 với custom config, PostCSS processing và optimized build pipeline.' },
      { type: 'technical', text: 'Refactor KnowledgeBaseModal architecture với component separation và performance optimization.' },
      { type: 'technical', text: 'Triển khai useDebounce và useVirtualizedList hooks cho enhanced UX và performance.' },
    ],
  },
  {
    version: '1.26.0',
    date: '2025-07-25',
    changes: [
      { type: 'feature', text: 'Thêm nút "Chơi Ngay" - tự động lưu WorldSetup vào localStorage và cho phép vào game nhanh với settings đã dùng trước đó.' },
      { type: 'fix', text: 'Sửa lỗi JSON parsing "Unexpected end of JSON input" khi AI trả về phản hồi không hoàn chỉnh hoặc trống.' },
      { type: 'fix', text: 'Khắc phục lỗi game tự động tạo story trùng lặp sau lần đầu tiên generate initial story.' },
      { type: 'fix', text: 'Sửa lỗi nút "Bắt Đầu Lại" không hoạt động do thiếu reset các state flags cần thiết.' },
      { type: 'improvement', text: 'Hạn chế tạo memory tự động - chỉ CHRONICLE_TURN tạo memory, loại bỏ CHRONICLE_CHAPTER, CHRONICLE_MEMOIR và MEMORY_ADD để giảm spam.' },
      { type: 'improvement', text: 'Cập nhật system instruction: Chronicle Turn chỉ bắt buộc từ lượt 2 trở đi, không tạo ở lượt đầu tiên.' },
      { type: 'improvement', text: 'Cải thiện error handling với validation cho empty responses và missing required fields trong JSON.' },
      { type: 'improvement', text: 'Loại bỏ tất cả debug logs và status debuggers khỏi console để clean up development experience.' },
      { type: 'improvement', text: 'Sửa lỗi format **⭐...⭐** bị lạm dụng cho tên skills/concepts - giờ chỉ dành cho thông báo hệ thống quan trọng.' },
      { type: 'improvement', text: 'Bắt buộc sử dụng format ⭐...⭐ cho nội dung Chronicle Turn để dễ nhận diện trong Memory Modal.' },
      { type: 'improvement', text: 'Cải thiện UI CreateWorld: Đổi "Thể Loại" thành "Tên Truyện", thêm field "Thể Loại" mới và "Thời Gian Bắt Đầu" (ngày/tháng/năm).' },
      { type: 'improvement', text: 'Game time hiện sử dụng thời gian bắt đầu do người chơi chọn thay vì mặc định năm 1 tháng 1 ngày 1.' },
      { type: 'improvement', text: 'Thêm quy tắc bắt buộc: AI PHẢI LUÔN sử dụng [TIME_ELAPSED] cho mọi hành động - không có ngoại lệ.' },
      { type: 'fix', text: 'Sửa lỗi restart game không parse concepts vào knowledge base do thiếu reset knownEntities và party states.' },
    ],
  },
  {
    version: '1.25.0',
    date: '2025-01-25',
    changes: [
      { type: 'improvement', text: 'Redesign hoàn toàn giao diện header desktop thành thiết kế minimalist với dropdown menu, giảm visual clutter và cải thiện UX.' },
      { type: 'improvement', text: 'Token counter được đưa lên vị trí trung tâm, luôn hiển thị với color-coding và progress bar để người chơi dễ dàng theo dõi.' },
      { type: 'fix', text: 'Sửa lỗi "Cannot read properties of undefined (reading \'trim\')" trong Enhanced RAG system bằng cách thêm proper null checking.' },
      { type: 'improvement', text: 'Tích hợp và tối ưu hóa RAG system: Loại bỏ enhanced-rag-system.ts duplicate và sử dụng promptBuilder.ts làm single source of truth.' },
      { type: 'improvement', text: 'Dọn dẹp codebase: Xóa 13+ component files trùng lặp trong thư mục game/, panels/, modals/, và ui/.' },
      { type: 'feature', text: 'Thêm comprehensive debugging system cho HistoryCompressed và Manual Memory Cleanup với timestamped logs và detailed statistics.' },
      { type: 'improvement', text: 'Enhanced HistoryManager với better compression tracking, before/after state comparison, và performance monitoring.' },
      { type: 'feature', text: 'Thêm global debug function window.debugGameSystems() để monitoring real-time system status và performance metrics.' },
      { type: 'improvement', text: 'Cải thiện Manual Cleanup system với detailed logging about entities/statuses/quests removed và token savings achieved.' },
      { type: 'fix', text: 'Sửa lỗi dropdown menu bị che khuất bởi story panel bằng React Portals và proper z-index management.' },
      { type: 'fix', text: 'Sửa lỗi Chronicle turn content không được append vào story content cuối mỗi lượt.' },
      { type: 'improvement', text: 'Tự động tạo memories từ Chronicle content: turn events, chapter summaries (📖), và memoir entries (📜 - tự động ghim).' },
    ],
  },
  {
    version: '1.24.0',
    date: '2025-01-22',
    changes: [
      { type: 'fix', text: 'Sửa lỗi nghiêm trọng khiến story text và player choices được generate nhưng không render trên màn hình game.' },
      { type: 'fix', text: 'Khắc phục lỗi flashing content - nội dung hiển thị thoáng rồi biến mất do state management không ổn định.' },
      { type: 'fix', text: 'Sửa lỗi React "Expected static flag was missing" do React keys không ổn định trong virtual scrolling.' },
      { type: 'improvement', text: 'Loại bỏ hành vi auto-scroll và thêm nút scroll thủ công để cải thiện trải nghiệm người dùng.' },
      { type: 'fix', text: 'Sửa lỗi "Cannot read properties of undefined (reading \'trim\')" khi chọn action.' },
      { type: 'fix', text: 'Khắc phục lỗi hiển thị thời gian "NaN" do parsing error trong calculateNewTime function.' },
      { type: 'improvement', text: 'Triển khai hệ thống auto cleanup thiếu và cải thiện manual cleanup functionality.' },
      { type: 'improvement', text: 'Tối ưu hóa code structure: Loại bỏ các file TypeScript/TSX duplicate và redundant trong repository.' },
      { type: 'improvement', text: 'Cải thiện accessibility và error handling across tất cả game components.' },
      { type: 'fix', text: 'Sửa các vấn đề về memory leaks, unsafe property access, và duplicate keys trong UI components.' },
    ],
  },
  {
    version: '1.23.0',
    date: '2024-08-21',
    changes: [
      { type: 'fix', text: 'Sửa lỗi nghiêm trọng khiến các địa điểm đã khám phá không hiển thị trên bản đồ, đặc biệt khi tải game từ file lưu cũ.' },
      { type: 'improvement', text: 'Cải thiện độ tin cậy của việc tải game: Hệ thống giờ đây lưu lại thứ tự khám phá địa điểm và có cơ chế dự phòng để đảm bảo tất cả địa điểm luôn được hiển thị chính xác trên bản đồ.' },
    ],
  },
  {
    version: '1.22.0',
    date: '2024-08-20',
    changes: [
      { type: 'improvement', text: 'Đại tu hiệu suất và kiến trúc: Màn hình game được tái cấu trúc thành các component nhỏ hơn, được tối ưu hóa bằng memoization và các hook tùy chỉnh để giảm re-render và cải thiện độ phản hồi.' },
      { type: 'improvement', text: 'Nâng cấp hệ thống tạo prompt cốt lõi lên "Enhanced RAG System", cung cấp ngữ cảnh phù hợp hơn cho AI để có chất lượng phản hồi cao hơn.' },
      { type: 'feature', text: 'Triển khai tính năng nén lịch sử và dọn dẹp trạng thái game tự động để quản lý bộ nhớ và mức sử dụng token trong các màn chơi dài, đảm bảo hiệu suất lâu dài tốt hơn.' },
      { type: 'fix', text: 'Sửa nhiều lỗi khác nhau liên quan đến việc tải file lưu, hiển thị dữ liệu NPC và sự không nhất quán của giao diện người dùng.' },
    ],
  },
  {
    version: '1.21.0',
    date: '2024-08-19',
    changes: [
      { type: 'feature', text: 'Nâng cấp mạnh mẽ cửa sổ "Tri Thức Thế Giới" với chức năng tìm kiếm và bộ lọc. Giờ đây người chơi có thể dễ dàng tìm kiếm thực thể theo tên và lọc theo từng loại (Kỹ năng, Vật phẩm, NPC...).' },
      { type: 'improvement', text: 'Tối ưu hóa hiệu suất hiển thị trong "Tri Thức Thế Giới" khi có số lượng lớn các thực thể.' },
      { type: 'fix', text: 'Sửa lỗi hiển thị nhỏ khiến một số icon trong Tri Thức không đồng nhất với các khu vực khác của game.' },
    ],
  },
  {
    version: '1.20.0',
    date: '2024-08-18',
    changes: [
      { type: 'feature', text: 'Thêm tính năng "Tóm Tắt Hành Trình" (Story So Far), cho phép người chơi xem lại tóm tắt các sự kiện quan trọng đã diễn ra trong cuộc phiêu lưu của mình. Truy cập từ sidebar.' },
      { type: 'improvement', text: 'Tối ưu hóa hệ thống RAG Nâng cao (Enhanced RAG System) để giảm token sử dụng khoảng 15% bằng cách lược bỏ các chi tiết không cần thiết trong mô tả thực thể và lịch sử gần đây, giúp AI phản hồi nhanh hơn.' },
      { type: 'fix', text: 'Sửa lỗi hiển thị trên Bản Đồ Thế Giới khiến một số địa điểm bị chồng chéo khi có nhiều địa điểm được khám phá trong một hàng.' },
    ],
  },
  {
    version: '1.19.1',
    date: '2024-08-17',
    changes: [
      { type: 'improvement', text: 'Tối ưu hóa GameScreen bằng cách memoize các modal và các thành phần con, giảm đáng kể số lần re-render không cần thiết.' },
      { type: 'feature', text: 'Tích hợp các custom hook tối ưu (useDebounce, useOptimizedScroll, etc.) để cải thiện hiệu suất và trải nghiệm người dùng.' },
      { type: 'fix', text: 'Sửa lỗi các đường dẫn import không chính xác và các vấn đề tương thích kiểu dữ liệu trong các hook tối ưu hóa mới được thêm vào.' },
    ],
  },
  {
    version: '1.19.0',
    date: '2024-08-16',
    changes: [
      { type: 'improvement', text: 'Tối ưu hóa hiệu suất trong GameScreen bằng cách sử dụng `useCallback` cho các hàm xử lý sự kiện, giảm thiểu re-render.' },
      { type: 'fix', text: 'Sửa lỗi trong custom hook `useDebounce` liên quan đến `useRef` và kiểu dữ liệu Timeout, tăng cường tính ổn định và tương thích.' },
      { type: 'fix', text: 'Sửa lỗi không thể phân giải module do đường dẫn import tương đối sai trong các component.' },
    ],
  },
  {
    version: '1.18.1',
    date: '2024-08-15',
    changes: [
      { type: 'fix', text: "Sửa lỗi nghiêm trọng khiến nút 'Dọn Dẹp Thủ Công' chỉ hoạt động vào các lượt chia hết cho 10. Logic đã được tái cấu trúc để đảm bảo việc dọn dẹp thủ công được thực thi ngay lập tức khi nhấn nút." },
    ],
  },
  {
    version: '1.18.0',
    date: '2024-08-14',
    changes: [
      { type: 'feature', text: 'Tích hợp hệ thống tối ưu hóa trạng thái game (GameStateOptimizer) để tự động dọn dẹp dữ liệu.' },
      { type: 'improvement', text: 'Quá trình dọn dẹp tự động chạy mỗi 10 lượt, loại bỏ các ký ức cũ, biên niên sử, nhiệm vụ đã hoàn thành, trạng thái hết hạn và các thực thể không hoạt động để tối ưu hóa token.' },
      { type: 'feature', text: 'Thêm nút "Dọn Dẹp Thủ Công" trong sidebar (di động) để người chơi có thể tự kích hoạt tối ưu hóa.' },
      { type: 'improvement', text: 'Cập nhật sidebar trên di động để hiển thị thống kê chi tiết về việc nén lịch sử và dọn dẹp dữ liệu.' },
    ],
  },
 {
    version: '1.17.0',
    date: '2024-08-12',
    changes: [
      { type: 'improvement', text: 'Tái cấu trúc mã nguồn (refactor) toàn bộ GameScreen, chia thành các component nhỏ hơn để dễ quản lý, bảo trì và mở rộng.' },
      { type: 'improvement', text: 'Cấu trúc thư mục được tổ chức lại với thư mục con `components/game` cho các thành phần của màn hình chơi game.' },
      { type: 'fix', text: 'Cải thiện hiệu suất render ban đầu của màn hình game nhờ việc chia nhỏ component.' },
    ],
  },
 {
    version: '1.16.0',
    date: '2024-08-12',
    changes: [
      { type: 'feature', text: 'Nâng cấp cốt lõi hệ thống AI: Thay thế bộ xây dựng prompt cũ bằng "Hệ thống RAG Nâng cao" (Enhanced RAG System) hoàn toàn mới.' },
      { type: 'improvement', text: 'Hệ thống RAG mới sử dụng phương pháp phân bổ token động, chấm điểm độ liên quan của thực thể và đồ thị quan hệ để tạo ra ngữ cảnh thông minh và phù hợp hơn cho AI, giúp cải thiện chất lượng phản hồi.' },
      { type: 'fix', text: 'Sửa lỗi chính tả trong hệ thống RAG mới, giải quyết các vấn đề về tương thích kiểu dữ liệu (type errors).' },
    ],
  },
 {
    version: '1.15.0',
    date: '2024-08-11',
    changes: [
      { type: 'improvement', text: 'Tối ưu hóa prompt: AI giờ đây sẽ truy xuất 7 lượt "Hồi Ký" (thay vì 2) và 2 lượt diễn biến gần nhất (thay vì 3) để có ngữ cảnh dài hạn tốt hơn và tập trung vào hành động hiện tại.' },
      { type: 'fix', text: 'Sửa lỗi logic khiến diễn biến truyện ban đầu đôi khi không hiển thị khi bắt đầu một game mới.' },
    ],
  },
 {
    version: '1.14.0',
    date: '2024-08-10',
    changes: [
      { type: 'feature', text: 'Giới hạn số lượng trạng thái: Mỗi nhân vật (PC và NPC) chỉ có thể có tối đa 2 trạng thái cùng một loại (ví dụ: 2 buff, 2 debuff).' },
      { type: 'improvement', text: 'Khi một trạng thái mới được áp dụng và đã đạt đến giới hạn, trạng thái cũ nhất cùng loại sẽ tự động bị xóa bỏ để nhường chỗ.' },
      { type: 'fix', text: 'Cải thiện logic áp dụng trạng thái để xử lý việc "làm mới" một trạng thái hiện có (ghi đè thay vì thêm mới).' },
    ],
  },
   {
    version: '1.13.0',
    date: '2024-08-09',
    changes: [
      { type: 'feature', text: 'Cập nhật hệ thống NSFW. Khi được bật, Quản Trò (AI) giờ đây sẽ chủ động tạo ra ít nhất hai lựa chọn hành động 18+ trong mỗi lượt, dựa trên bối cảnh và mối quan hệ của nhân vật.' },
      { type: 'improvement', text: 'Các lựa chọn hành động NSFW do AI tạo ra sẽ được đánh dấu rõ ràng bằng "(NSFW)" để người chơi dễ nhận biết.' },
      { type: 'improvement', text: 'Hệ thống prompt được tối ưu để AI luôn nhận biết được trạng thái của chế độ NSFW trong suốt quá trình chơi.' },
      { type: 'fix', text: 'Hành động tùy ý có chứa từ khóa "nsfw" của người chơi sẽ được ưu tiên xử lý như một yêu cầu 18+.' },
    ],
  },
  {
    version: '1.12.0',
    date: '2024-08-08',
    changes: [
      { type: 'feature', text: 'Nâng cấp menu "Thiết Lập Nguồn API" để hỗ trợ quản lý nhiều API key. Người dùng có thể thêm, xóa và lưu một danh sách các key.' },
      { type: 'feature', text: 'Triển khai tính năng tự động chuyển đổi API key. Khi một key gặp lỗi giới hạn yêu cầu (rate-limit), hệ thống sẽ tự động chuyển sang key tiếp theo trong danh sách.' },
      { type: 'improvement', text: 'Thêm thông báo trên màn hình game khi API key được tự động chuyển đổi, yêu cầu người chơi gửi lại hành động.' },
      { type: 'improvement', text: 'Giao diện menu thiết lập API được cập nhật với các nút icon (Thêm, Xóa, Lưu) để thao tác thuận tiện hơn.' },
    ],
  },
  {
    version: '1.11.0',
    date: '2024-08-07',
    changes: [
      { type: 'improvement', text: 'Tối ưu hóa prompt gửi đến AI bằng cách giảm số lượt diễn biến gần nhất từ 5 xuống 3, giúp tăng tốc độ phản hồi và giảm token sử dụng.' },
      { type: 'improvement', text: 'Hệ thống truy xuất thông tin (RAG) giờ đây chỉ tập trung vào các kiến thức và luật lệ được đề cập trong 2 lượt chơi gần nhất, giúp AI trả lời tập trung và chính xác hơn.' },
    ],
  },
  {
    version: '1.10.0',
    date: '2024-08-06',
    changes: [
      { type: 'improvement', text: 'Giao diện trên di động được cải thiện bằng cách ẩn các tùy chọn Phông chữ và Cỡ chữ để có giao diện gọn gàng hơn.' },
    ],
  },
  {
    version: '0.1.1',
    date: '2024-08-05',
    changes: [
      { type: 'fix', text: 'Sửa lỗi import thiếu trong component Bản Đồ (MapModal), gây ra sự cố hiển thị và tương tác.' },
    ],
  },
  {
    version: '0.1.0',
    date: '2024-08-05',
    changes: [
      { type: 'feature', text: 'Thêm Bản Đồ Thế Giới tương tác, cho phép người chơi xem các địa điểm đã khám phá và vị trí hiện tại của nhân vật.' },
      { type: 'feature', text: 'Bản đồ hỗ trợ zoom (phóng to/thu nhỏ) và pan (kéo thả) để khám phá.' },
      { type: 'improvement', text: 'Cập nhật AI để theo dõi và cập nhật vị trí của nhân vật chính và NPC, làm dữ liệu cho bản đồ.' },
      { type: 'improvement', text: 'Thêm thông tin "Vị trí" vào bảng thông tin chi tiết của nhân vật.' },
    ],
  },
  {
    version: '0.0.9',
    date: '2024-08-04',
    changes: [
      { type: 'improvement', text: 'Tái cấu trúc hoàn toàn giao diện trên di động để tối ưu hóa không gian hiển thị và trải nghiệm người dùng.' },
      { type: 'feature', text: 'Thêm thanh menu trượt (sidebar) bên trái trên di động để chứa các nút chức năng chính (Lưu, Tri thức, Ký ức...).' },
      { type: 'feature', text: 'Các lựa chọn hành động trên di động được chuyển vào một menu modal trượt từ dưới lên, giúp giao diện gọn gàng hơn.' },
      { type: 'fix', text: 'Ghim ô nhập hành động tùy ý ở cuối màn hình trên di động để luôn có thể truy cập.' },
    ],
  },
  {
    version: '0.0.8',
    date: '2024-08-03',
    changes: [
      { type: 'improvement', text: 'Nâng cấp AI Quản Trò (GM) để tạo ra một thế giới sống động hơn, nơi các NPC có mục tiêu, động cơ và mối quan hệ riêng.' },
      { type: 'improvement', text: 'AI giờ đây sẽ chủ động mô tả các "sự kiện ngầm" - các tương tác giữa NPC diễn ra độc lập với người chơi, làm tăng tính chân thực.' },
      { type: 'feature', text: 'Thêm thuộc tính "Động cơ" (Motivation) cho NPC, thông tin này sẽ được hiển thị trong bảng chi tiết và được AI sử dụng để điều khiển hành vi.' },
      { type: 'fix', text: 'Tối ưu hóa hệ thống RAG để cung cấp cho AI ngữ cảnh đầy đủ hơn về động cơ và mục tiêu của NPC.' },
    ],
  },
  {
    version: '0.0.7',
    date: '2024-08-02',
    changes: [
      { type: 'feature', text: 'Thêm hệ thống Thời Gian trong game, AI tự động tính toán và hiển thị thời gian đã trôi qua.' },
      { type: 'feature', text: 'Mở rộng thông tin nhân vật chính (PC) bao gồm Tuổi, Dung Mạo, Danh Vọng và hiển thị trong bảng Thông tin.' },
      { type: 'improvement', text: 'Cập nhật logic AI để quản lý và thay đổi các chỉ số mới của PC cũng như thời gian trong game.' },
      { type: 'improvement', text: 'Bảng thông tin trong game được sắp xếp lại, ưu tiên hiển thị thời gian.' },
    ],
  },
  {
    version: '0.0.6',
    date: '2024-08-01',
    changes: [
      { type: 'feature', text: 'Thêm nút "Thông tin" hiển thị bảng thông tin chi tiết của nhân vật (chỉ số, kỹ năng, trạng thái).' },
      { type: 'improvement', text: 'Giao diện chính được tinh gọn bằng cách hợp nhất tab "Trạng thái" vào bảng thông tin nhân vật mới.' },
      { type: 'fix', text: 'Cải thiện luồng tương tác khi xem chi tiết về nhân vật và kỹ năng từ các cửa sổ thông tin.' },
    ],
  },
  {
    version: '0.0.5',
    date: '2024-07-31',
    changes: [
      { type: 'improvement', text: 'AI sẽ không còn hiển thị tỷ lệ thành công, rủi ro, và hậu quả trong các lựa chọn hành động, giúp tăng tính bất ngờ và nhập vai.' },
      { type: 'improvement', text: 'Giao diện GameScreen được cải thiện: Các tab thông tin (Trạng thái, Tổ đội, Nhiệm vụ) được chuyển thành các nút bấm mở cửa sổ riêng biệt, giải phóng không gian màn hình.' },
      { type: 'fix', text: 'Cập nhật hệ thống prompt để AI tuân thủ nghiêm ngặt hơn quy tắc về việc che giấu thông tin lựa chọn.' },
    ],
  },
  {
    version: '0.0.4',
    date: '2024-07-30',
    changes: [
      { type: 'feature', text: 'Chức năng "Bắt Đầu Lại" giờ sẽ tái tạo thế giới với cùng bối cảnh và luật lệ ban đầu.' },
      { type: 'improvement', text: 'Thêm hộp thoại xác nhận riêng biệt cho hành động "Về Trang Chủ" và "Bắt Đầu Lại" để tránh nhầm lẫn.' },
      { type: 'fix', text: 'Sửa lỗi logic khi bắt đầu game mới sau khi tải lại trang hoặc khởi động lại.' },
    ],
  },
  {
    version: '0.0.3',
    date: '2024-07-29',
    changes: [
      { type: 'feature', text: 'Tối ưu hóa bảng thông tin NPC, hiển thị đầy đủ thông tin về Kỹ Năng, Tuổi Tác và Dung Mạo.' },
      { type: 'improvement', text: 'Cập nhật hệ thống AI để tự động tạo và xử lý thông tin chi tiết hơn cho NPC.' },
      { type: 'improvement', text: 'Cải thiện logic đưa ngữ cảnh (RAG) để cung cấp cho AI thông tin kỹ năng, tuổi tác của NPC.' },
      { type: 'fix', text: 'Sắp xếp lại các mục trong cửa sổ thông tin thực thể để dễ đọc hơn.' },
    ],
  },
  {
    version: '0.0.2',
    date: '2024-07-28',
    changes: [
      { type: 'feature', text: 'Triển khai hệ thống RAG (Retrieval-Augmented Generation) để tối ưu hóa prompt và giảm token.' },
      { type: 'feature', text: 'Tái cấu trúc màn hình "Kiến Tạo Thế Giới" với giao diện tab "Bối Cảnh" và "Tri Thức".' },
      { type: 'feature', text: 'Thêm tính năng Lưu/Tải thiết lập và bộ luật tùy chỉnh tại màn hình Kiến Tạo Thế Giới.' },
      { type: 'improvement', text: 'Hệ thống MBTI giờ đây chỉ áp dụng cho các NPC dạng người, không còn ảnh hưởng đến người chơi.' },
      { type: 'fix', text: 'Kích hoạt nút "Xem Cập Nhật Game" và thêm cửa sổ Lịch sử cập nhật.' },
    ],
  },
    {
    version: '0.0.1',
    date: '2024-07-25',
    changes: [
      { type: 'feature', text: 'Thêm hệ thống "Biên Niên Sử" (Chronicle) để AI tự động tóm tắt các sự kiện quan trọng.' },
      { type: 'feature', text: 'Tích hợp hệ thống "Tính cách Cốt lõi" (MBTI) cho NPC để tạo chiều sâu.' },
      { type: 'improvement', text: 'Cải thiện logic phân tích thẻ lệnh của AI.' },
      { type: 'fix', text: 'Sửa lỗi khi tải file lưu game phiên bản cũ.' },
    ],
  },
  {
    version: '0.0.1',
    date: '2024-07-20',
    changes: [
      { type: 'feature', text: 'Phát hành phiên bản đầu tiên của Nhập Vai A.I Simulator.' },
      { type: 'feature', text: 'Hệ thống tạo thế giới, nhân vật và tương tác cơ bản với AI.' },
    ],
  },
];
